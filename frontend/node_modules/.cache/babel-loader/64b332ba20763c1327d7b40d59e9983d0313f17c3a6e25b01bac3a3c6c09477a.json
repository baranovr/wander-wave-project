{"ast":null,"code":"// src/features/author/authorSlice.ts\n\nimport { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  profile: null,\n  loading: false,\n  error: false\n};\nexport const fetchAuthorProfile = createAsyncThunk('author/fetchAuthorProfile', async (postId, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get(`http://127.0.0.1:8080/api/platform/posts/${postId}/author-profile/`);\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Failed to fetch author profile');\n  }\n});\nconst authorSlice = createSlice({\n  name: 'author',\n  initialState,\n  reducers: {\n    clearAuthorProfileState(state) {\n      state.profile = null;\n      state.loading = false;\n      state.error = false;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchAuthorProfile.pending, state => {\n      state.loading = true;\n      state.error = false;\n    }).addCase(fetchAuthorProfile.fulfilled, (state, action) => {\n      state.loading = false;\n      state.profile = action.payload;\n    }).addCase(fetchAuthorProfile.rejected, state => {\n      state.loading = false;\n      state.error = true;\n    });\n  }\n});\nexport const {\n  clearAuthorProfileState\n} = authorSlice.actions;\nexport default authorSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","profile","loading","error","fetchAuthorProfile","postId","rejectWithValue","response","get","data","authorSlice","name","reducers","clearAuthorProfileState","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["D:/pycharm_projects/wander-wave-project/frontend/src/features/authorProfileSlice.ts"],"sourcesContent":["// src/features/author/authorSlice.ts\r\n\r\nimport { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { User } from '../types/User';\r\n\r\ninterface AuthorState {\r\n  profile: User | null;\r\n  loading: boolean;\r\n  error: boolean;\r\n}\r\n\r\nconst initialState: AuthorState = {\r\n  profile: null,\r\n  loading: false,\r\n  error: false,\r\n};\r\n\r\nexport const fetchAuthorProfile = createAsyncThunk(\r\n  'author/fetchAuthorProfile',\r\n  async (postId: number, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `http://127.0.0.1:8080/api/platform/posts/${postId}/author-profile/`,\r\n      );\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue('Failed to fetch author profile');\r\n    }\r\n  },\r\n);\r\n\r\nconst authorSlice = createSlice({\r\n  name: 'author',\r\n  initialState,\r\n  reducers: {\r\n    clearAuthorProfileState(state) {\r\n      state.profile = null;\r\n      state.loading = false;\r\n      state.error = false;\r\n    },\r\n  },\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(fetchAuthorProfile.pending, state => {\r\n        state.loading = true;\r\n        state.error = false;\r\n      })\r\n      .addCase(\r\n        fetchAuthorProfile.fulfilled,\r\n        (state, action: PayloadAction<User>) => {\r\n          state.loading = false;\r\n          state.profile = action.payload;\r\n        },\r\n      )\r\n      .addCase(\r\n        fetchAuthorProfile.rejected,\r\n        (state) => {\r\n          state.loading = false;\r\n          state.error = true;\r\n        },\r\n      );\r\n  },\r\n});\r\n\r\nexport const { clearAuthorProfileState } = authorSlice.actions;\r\nexport default authorSlice.reducer;\r\n"],"mappings":"AAAA;;AAEA,SAASA,WAAW,EAAEC,gBAAgB,QAAuB,kBAAkB;AAC/E,OAAOC,KAAK,MAAM,OAAO;AASzB,MAAMC,YAAyB,GAAG;EAChCC,OAAO,EAAE,IAAI;EACbC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;AAED,OAAO,MAAMC,kBAAkB,GAAGN,gBAAgB,CAChD,2BAA2B,EAC3B,OAAOO,MAAc,EAAE;EAAEC;AAAgB,CAAC,KAAK;EAC7C,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAC9B,4CAA4CH,MAAM,kBACpD,CAAC;IACD,OAAOE,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAON,KAAK,EAAE;IACd,OAAOG,eAAe,CAAC,gCAAgC,CAAC;EAC1D;AACF,CACF,CAAC;AAED,MAAMI,WAAW,GAAGb,WAAW,CAAC;EAC9Bc,IAAI,EAAE,QAAQ;EACdX,YAAY;EACZY,QAAQ,EAAE;IACRC,uBAAuBA,CAACC,KAAK,EAAE;MAC7BA,KAAK,CAACb,OAAO,GAAG,IAAI;MACpBa,KAAK,CAACZ,OAAO,GAAG,KAAK;MACrBY,KAAK,CAACX,KAAK,GAAG,KAAK;IACrB;EACF,CAAC;EACDY,aAAa,EAAEC,OAAO,IAAI;IACxBA,OAAO,CACJC,OAAO,CAACb,kBAAkB,CAACc,OAAO,EAAEJ,KAAK,IAAI;MAC5CA,KAAK,CAACZ,OAAO,GAAG,IAAI;MACpBY,KAAK,CAACX,KAAK,GAAG,KAAK;IACrB,CAAC,CAAC,CACDc,OAAO,CACNb,kBAAkB,CAACe,SAAS,EAC5B,CAACL,KAAK,EAAEM,MAA2B,KAAK;MACtCN,KAAK,CAACZ,OAAO,GAAG,KAAK;MACrBY,KAAK,CAACb,OAAO,GAAGmB,MAAM,CAACC,OAAO;IAChC,CACF,CAAC,CACAJ,OAAO,CACNb,kBAAkB,CAACkB,QAAQ,EAC1BR,KAAK,IAAK;MACTA,KAAK,CAACZ,OAAO,GAAG,KAAK;MACrBY,KAAK,CAACX,KAAK,GAAG,IAAI;IACpB,CACF,CAAC;EACL;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEU;AAAwB,CAAC,GAAGH,WAAW,CAACa,OAAO;AAC9D,eAAeb,WAAW,CAACc,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}