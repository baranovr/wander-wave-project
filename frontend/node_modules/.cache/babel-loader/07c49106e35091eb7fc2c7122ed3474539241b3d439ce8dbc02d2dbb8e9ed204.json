{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  profile: null,\n  loading: false,\n  error: null,\n  subscriptions: [],\n  liked: [],\n  favorites: [],\n  favLoading: false,\n  favError: false\n};\nexport const fetchUserProfile = createAsyncThunk('profile/fetchUserProfile', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get('/api/user/my_profile');\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Failed to fetch user profile');\n  }\n});\nexport const fetchSubscriptions = createAsyncThunk('profile/fetchMySubscriptions', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get('/api/user/my_profile/subscriptions/');\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Failed to fetch subscriptions');\n  }\n});\nexport const fetchMyLiked = createAsyncThunk('profile/fetchMyLiked', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get('/api/user/my_profile/my_liked/');\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Failed to fetch likes');\n  }\n});\nexport const fetchMyFavorites = createAsyncThunk('profile/fetchMyFavorites', async (_, {\n  rejectWithValue\n}) => {\n  try {\n    const response = await axios.get('/api/user/my_profile/my_favorites/');\n    return response.data;\n  } catch (error) {\n    return rejectWithValue('Failed to fetch favorites');\n  }\n});\nconst myProfileSlice = createSlice({\n  name: 'profile',\n  initialState,\n  reducers: {\n    clearProfileState(state) {\n      state.profile = null;\n      state.loading = false;\n      state.error = null;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(fetchUserProfile.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchUserProfile.fulfilled, (state, action) => {\n      state.loading = false;\n      state.profile = action.payload;\n    }).addCase(fetchUserProfile.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload;\n    }).addCase(fetchSubscriptions.fulfilled, (state, action) => {\n      state.subscriptions = action.payload;\n    }).addCase(fetchMyLiked.fulfilled, (state, action) => {\n      state.liked = action.payload;\n    }).addCase(fetchMyFavorites.pending, state => {\n      state.favLoading = true;\n      state.favError = false;\n    }).addCase(fetchMyFavorites.rejected, state => {\n      state.favError = true;\n      state.favLoading = false;\n    }).addCase(fetchMyFavorites.fulfilled, (state, action) => {\n      state.favorites = action.payload;\n      state.favLoading = false;\n    });\n  }\n});\nexport const {\n  clearProfileState\n} = myProfileSlice.actions;\nexport default myProfileSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","profile","loading","error","subscriptions","liked","favorites","favLoading","favError","fetchUserProfile","_","rejectWithValue","response","get","data","fetchSubscriptions","fetchMyLiked","fetchMyFavorites","myProfileSlice","name","reducers","clearProfileState","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","actions","reducer"],"sources":["D:/pycharm_projects/wander-wave-project/frontend/src/features/myProfileSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\r\nimport axios from 'axios';\r\nimport { User } from '../types/User';\r\nimport { Post } from '../types/Post';\r\n\r\nexport type Subscription = {\r\n  id: number;\r\n  avatar: string;\r\n  status: string;\r\n  username: string;\r\n  email: string;\r\n  full_name: string;\r\n  view_more: string;\r\n  unsubscribe: string;\r\n};\r\n\r\nexport type Liked = {\r\n  id: number;\r\n  post: Post;\r\n};\r\n\r\ninterface ProfileState {\r\n  profile: User | null;\r\n  loading: boolean;\r\n  error: string | null;\r\n  subscriptions: Subscription[];\r\n  liked: Liked[];\r\n  favorites: Liked[];\r\n  favLoading: boolean;\r\n  favError: boolean;\r\n}\r\n\r\nconst initialState: ProfileState = {\r\n  profile: null,\r\n  loading: false,\r\n  error: null,\r\n  subscriptions: [],\r\n  liked: [],\r\n  favorites: [],\r\n  favLoading: false,\r\n  favError: false,\r\n};\r\n\r\nexport const fetchUserProfile = createAsyncThunk(\r\n  'profile/fetchUserProfile',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get('/api/user/my_profile');\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue('Failed to fetch user profile');\r\n    }\r\n  },\r\n);\r\n\r\nexport const fetchSubscriptions = createAsyncThunk(\r\n  'profile/fetchMySubscriptions',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get('/api/user/my_profile/subscriptions/');\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue('Failed to fetch subscriptions');\r\n    }\r\n  },\r\n);\r\n\r\nexport const fetchMyLiked = createAsyncThunk(\r\n  'profile/fetchMyLiked',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get('/api/user/my_profile/my_liked/');\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue('Failed to fetch likes');\r\n    }\r\n  },\r\n);\r\n\r\nexport const fetchMyFavorites = createAsyncThunk(\r\n  'profile/fetchMyFavorites',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const response = await axios.get('/api/user/my_profile/my_favorites/');\r\n      return response.data;\r\n    } catch (error) {\r\n      return rejectWithValue('Failed to fetch favorites');\r\n    }\r\n  },\r\n);\r\n\r\nconst myProfileSlice = createSlice({\r\n  name: 'profile',\r\n  initialState,\r\n  reducers: {\r\n    clearProfileState(state) {\r\n      state.profile = null;\r\n      state.loading = false;\r\n      state.error = null;\r\n    },\r\n  },\r\n  extraReducers: builder => {\r\n    builder\r\n      .addCase(fetchUserProfile.pending, state => {\r\n        state.loading = true;\r\n        state.error = null;\r\n      })\r\n      .addCase(\r\n        fetchUserProfile.fulfilled,\r\n        (state, action: PayloadAction<User>) => {\r\n          state.loading = false;\r\n          state.profile = action.payload;\r\n        },\r\n      )\r\n      .addCase(\r\n        fetchUserProfile.rejected,\r\n        (state, action: PayloadAction<any>) => {\r\n          state.loading = false;\r\n          state.error = action.payload;\r\n        },\r\n      )\r\n      .addCase(\r\n        fetchSubscriptions.fulfilled,\r\n        (state, action: PayloadAction<Subscription[]>) => {\r\n          state.subscriptions = action.payload;\r\n        },\r\n      )\r\n      .addCase(\r\n        fetchMyLiked.fulfilled,\r\n        (state, action: PayloadAction<Liked[]>) => {\r\n          state.liked = action.payload;\r\n        },\r\n      )\r\n      .addCase(\r\n        fetchMyFavorites.pending,\r\n        (state) => {\r\n          state.favLoading = true;\r\n          state.favError = false;\r\n        },\r\n      )\r\n      .addCase(\r\n        fetchMyFavorites.rejected,\r\n        (state) => {\r\n          state.favError = true;\r\n          state.favLoading = false;\r\n        },\r\n      )\r\n      .addCase(\r\n        fetchMyFavorites.fulfilled,\r\n        (state, action: PayloadAction<Liked[]>) => {\r\n          state.favorites = action.payload;\r\n          state.favLoading = false;\r\n        },\r\n      );\r\n  },\r\n});\r\n\r\nexport const { clearProfileState } = myProfileSlice.actions;\r\nexport default myProfileSlice.reducer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}